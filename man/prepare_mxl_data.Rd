% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mxlogit_utils.R
\name{prepare_mxl_data}
\alias{prepare_mxl_data}
\title{Prepare inputs for \code{mxl_loglik_gradient_parallel()}}
\usage{
prepare_mxl_data(
  data,
  id_col,
  alt_col,
  choice_col,
  covariate_cols,
  random_var_cols,
  weights = NULL,
  outside_opt_label = NULL,
  include_outside_option = FALSE,
  rc_correlation = FALSE
)
}
\arguments{
\item{data}{Data frame containing choice data}

\item{id_col}{Name of the column identifying choice situations (individuals)}

\item{alt_col}{Name of the column identifying alternatives}

\item{choice_col}{Name of the column indicating chosen alternative (1 = chosen, 0 = not chosen)}

\item{covariate_cols}{Vector of names of columns to be used as covariates}

\item{random_var_cols}{Vector of names of columns to be used as random variables}

\item{weights}{Optional vector of weights for each choice situation. If NULL, equal weights are used.}

\item{outside_opt_label}{Label for the outside option (if any). If NULL, no outside option is assumed.}

\item{include_outside_option}{Logical indicating whether to include an outside option in the model.}

\item{rc_correlation}{Logical indicating whether random coefficients are correlated. Default is FALSE.}
}
\value{
A list containing prepared inputs for mixed logit estimation, including rc_correlation.
}
\description{
Prepares and validates inputs for mixed logit estimation routine.
}
\examples{
library(data.table)
set.seed(42)
N <- 50; J <- 3
dt <- data.table(id = rep(1:N, each = J), alt = rep(1:J, N))
dt[, `:=`(x1 = rnorm(.N), w1 = rnorm(.N), w2 = rnorm(.N))]
dt[, choice := 0L]
dt[, choice := sample(c(1L, rep(0L, J - 1))), by = id]
input <- prepare_mxl_data(dt, "id", "alt", "choice", "x1", c("w1", "w2"))
str(input$X)
str(input$W)
}
