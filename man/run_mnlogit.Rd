% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mnlogit_utils.R
\name{run_mnlogit}
\alias{run_mnlogit}
\title{Runs multinomial logit estimation}
\usage{
run_mnlogit(
  data = NULL,
  id_col = NULL,
  alt_col = NULL,
  choice_col = NULL,
  covariate_cols = NULL,
  input_data = NULL,
  optimizer = NULL,
  control = list(),
  weights = NULL,
  outside_opt_label = NULL,
  include_outside_option = FALSE,
  use_asc = TRUE,
  keep_data = TRUE,
  nloptr_opts = NULL
)
}
\arguments{
\item{data}{Data frame containing choice data (convenience workflow).
Mutually exclusive with \code{input_data}.}

\item{id_col}{Name of the column identifying choice situations (individuals).}

\item{alt_col}{Name of the column identifying alternatives.}

\item{choice_col}{Name of the column indicating chosen alternative (1 = chosen, 0 = not chosen).}

\item{covariate_cols}{Vector of names of columns to be used as covariates.}

\item{input_data}{List output from \code{\link{prepare_mnl_data}} (advanced
workflow). Mutually exclusive with \code{data}.}

\item{optimizer}{Optimizer to use: \code{"nloptr"} (default), \code{"optim"}, or
a custom function with signature \code{f(theta_init, eval_f, lower, upper, control)}
where \code{eval_f(theta)} returns \code{list(objective, gradient)}.
Must return a list with \code{par}/\code{value} (or \code{solution}/\code{objective}).
If the custom function accepts \code{control} or \code{...}, the \code{control}
argument is forwarded; otherwise it is silently ignored.}

\item{control}{List of optimizer-specific control parameters passed to the
chosen optimizer (e.g., \code{list(maxeval = 2000)} for nloptr).}

\item{weights}{Optional vector of weights for each choice situation. If \code{NULL}, equal weights are used.}

\item{outside_opt_label}{Label for the outside option (if any). If \code{NULL}, no outside option is assumed.}

\item{include_outside_option}{Logical indicating whether to include an outside option in the model.}

\item{use_asc}{Logical indicating whether to include alternative-specific constants (ASCs) in the model.}

\item{keep_data}{Logical. If \code{TRUE} (default), stores prepared data in the
returned object for \code{predict()} and post-estimation functions.}

\item{nloptr_opts}{Deprecated. Use \code{optimizer} and \code{control} instead.}
}
\value{
A \code{choicer_mnl} object (inherits from \code{choicer_fit}).
Standard S3 methods available: \code{summary()}, \code{coef()}, \code{vcov()},
\code{logLik()}, \code{AIC()}, \code{BIC()}, \code{nobs()}, \code{predict()}.
}
\description{
Estimates a multinomial logit model via maximum likelihood.
}
\details{
Two workflows are supported:
\describe{
\item{Convenience (default)}{Supply \code{data} and column names. Data
preparation (\code{\link{prepare_mnl_data}}) is handled automatically.}
\item{Advanced}{Call \code{\link{prepare_mnl_data}} yourself and pass the
result via \code{input_data}.}
}
}
